<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

    
    
    
    <link href="//fonts.googleapis.com/css?family=Quattrocento:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Quattrocento+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    
    

    
    <title>Vinod Kurup</title>

    
    
    <link rel="stylesheet" href="/css/hugo-octopress.css">

    
    
    <link rel="stylesheet" href="css/vinod.css">
    

    
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
    

    
    <link href="https://vkurup.github.io/favicon.ico" rel="icon">

    
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Vinod Kurup" />

    <meta name="description" content="Inside Vinod Kurup&#39;s brain" />
    <meta name="keywords" content="">
    <meta name="author" content="Vinod Kurup, MD">

    
    <meta name="generator" content="Hugo 0.68.3" />

    
    

    
    
  </head>
  <body>

    
    <header role="banner">
<hgroup>
  
  <h1><a href="https://vkurup.github.io/">Vinod Kurup</a></h1>
    <h2>Hospitalist/programmer in search of the meaning of life</h2>
</hgroup></header>

    
    <nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
    
    <option value="https://vkurup.github.io/">» Blog</option>
    
    <option value="https://vkurup.github.io/about/">» About Me</option>
    
    <option value="https://vkurup.github.io/post/">» Archives</option>
    
    <option value="https://vkurup.github.io/categories/">» Categories</option>
    
    <option value="https://vkurup.github.io/medicine/">» Medicine</option>
    
    <option value="https://vkurup.github.io/running/">» Running</option>
    
  </select>
</fieldset>


<ul class="main-navigation">
  
  
  
  <li><a href="https://vkurup.github.io/" title="Blog">Blog</a></li>
  
  
  
  <li><a href="https://vkurup.github.io/about/" title="About Me" >About Me</a></li>
  
  
  
  <li><a href="https://vkurup.github.io/post/" title="Archives" >Archives</a></li>
  
  
  
  <li><a href="https://vkurup.github.io/categories/" title="Categories" >Categories</a></li>
  
  
  
  <li><a href="https://vkurup.github.io/medicine/" title="Medicine" >Medicine</a></li>
  
  
  
  <li><a href="https://vkurup.github.io/running/" title="Running" >Running</a></li>
  
  
</ul>

<ul class="subscription">
  
  
  <a href="https://vkurup.github.io/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss fa-lg"></i></a>
  
  
</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <input type="hidden" name="q" value="site:https://vkurup.github.io/" />
  </fieldset>
</form>

</nav>




  

<div id="main">
  <div id="content">
    <div class="blog-index">
      
      
      <article>
        
        

<header>
  <p class="meta">Sep 23, 2018
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2018/09/23/composting/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/family/">family </a><a class="label" href="https://vkurup.github.io/categories/garden/">garden </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2018/09/23/composting/">Composting</a>
  </h1>
</header>

        
          <p>Guess what, we&rsquo;re composting now! I told you was
<a href="/blog/2018/09/22/starting-a-garden">going to be a gardener</a>, so now you know I&rsquo;m serious. For oh so many years,
every Friday, we&rsquo;d haul the garbage and recycling out and I&rsquo;d think to myself, &ldquo;Wow, we&rsquo;d have like no
garbage at all if we were composting.&rdquo; It&rsquo;s only taken a few years of thinking that, week in and
week out, to get me to try. Actually, that&rsquo;s not even true. It was still way down on my future to-do
list until I got a cheap copy of
<a href="https://amzn.to/2xyqbWb">&ldquo;The Complete Idiot&rsquo;s Guide to Composting&rdquo;</a>. Thank you, <a href="https://www.bookbub.com/welcome">BookBub</a>! (As if
I needed any other incentive to buy and read more books). But honestly, the book was excellent in
that it made me think that yes, even I could compost. So shortly after finishing it, I headed down
to the Orange County Solid Waste Center and purchased an
<a href="https://www.earthmachine.com/contact.php">Earth Machine compost bin</a> for fifty bucks, and made the kids set it up near the
screen porch. We&rsquo;ve been throwing all our copious kitchen scraps for the past 2 weeks. So far, all
that has happened is that a bunch of fruit flies think we&rsquo;re awesome neighbors and seem to have
moved in for the long haul. But I&rsquo;m hoping that some composting starts happening soon. It&rsquo;s supposed
to be easy as pie, but I&rsquo;m secretly worried that I&rsquo;m missing something, oh, like maybe skills or
talent. But our garbage bin sure is lighter!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Sep 22, 2018
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2018/09/22/starting-a-garden/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/family/">family </a><a class="label" href="https://vkurup.github.io/categories/garden/">garden </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2018/09/22/starting-a-garden/">Starting a garden</a>
  </h1>
</header>

        
          <p>I&rsquo;m going to be a gardener. Yup, just decided. Well, re-decided, I guess, since we already have a
garden. It&rsquo;s a strip of dirt on the side of our house and we&rsquo;ve been trying to grow vegetables the
past couple years. But it has some problems. It&rsquo;s way out of the way, so it&rsquo;s a pain to check on it
(since I&rsquo;m lazy). The ground just underneath the topsoil is hard clay. It&rsquo;s shaded most of the day
either by our house, or by the beautiful forest surrounding our house. And I haven&rsquo;t figured out a
way to keep the deer from eating the few vegetables that we are able to grow in there. And even
despite all those problems we&rsquo;ve been able to grow some zucchini, okra, tomatoes and basil, which
has been super exciting, and makes us want more! Here&rsquo;s a photo of the harvest that greeted us when
we returned from a week-long trip to visit my parents in Dallas this summer:</p>







<span class="caption-wrapper ">
  <img class="caption" src="/images/august-harvest.jpg" title="August Harvest" alt="August Harvest">
  <span class="caption-text">August Harvest</span>
</span>

<p>But, in general, things end up getting eaten by the deer or overrun by weeds, so we&rsquo;re trying a new
approach now, based on the book, <a href="https://amzn.to/2NzBVSg">Square Foot Gardening</a>. Kavi and Anika
helped me build this raised bed, which is itself a huge accomplishment given how not-handy I am.</p>







<span class="caption-wrapper ">
  <img class="caption" src="/images/our-little-garden.jpg" title="Our Little Garden" alt="Our Little Garden">
  <span class="caption-text">Our Little Garden</span>
</span>

<p>This was my first time using a drill since shop class in high school! We&rsquo;re going to try using a
<a href="http://vomitingchicken.com/deer-fencing-cheap-and-easy-and-effective/">fishing line fence</a> to keep
the deer away. I&rsquo;m not very optimistic about that, but fingers-crossed! We can also see the garden
from our living room, so maybe I can just shoo them away any time they saunter by. The garden is
looking quite pathetic because we bought some seedlings from the Carrboro Farmer&rsquo;s Market but then
all our garden plans got sidetracked by Hurricane Florence (which fortunately treated us very
kindly, all things considered). So, the seedlings wilted away in our screen porch before we finally
got a chance to plant them this week. We&rsquo;re hoping there&rsquo;s still some life left in them. Anyway, our
expectations are low, especially given how late in the summer we&rsquo;re starting, but it would be nice
to get one head of lettuce or something to grow. I&rsquo;ll be sure to let you know!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 31, 2018
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2018/05/31/history-of-indian-civilization/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/india/">india </a><a class="label" href="https://vkurup.github.io/categories/education/">education </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2018/05/31/history-of-indian-civilization/">History of Indian Civilization</a>
  </h1>
</header>

        
          <p>I briefly mentioned finding the 2012 UCLA lecture series,
&ldquo;<a href="https://www.youtube.com/watch?v=93JMjX1XECo&amp;list=PLy3KRgc0HE8B4neta_B8LPM0G9UWy-Cqe">History of Indian Civilization</a>&quot;,
a <a href="/blog/2018/05/29/renaissance-man">couple days ago</a>. I&rsquo;m about halfway through
and have found it thorougly illuminating. I learned a lot about India growing
up, but never in a formal way, so it&rsquo;s nice to have someone as skilled as Vinay
Lal connect all the loose threads into a coherent history. One of the things
that surprises me is that aside from the fact that classes are being streamed
over the internet, there is nothing different than the lectures I skipped (I
mean religiously attended!) about 20 years ago. It&rsquo;s a large auditorium of
students watching a very charismatic, knowledgeable speaker pacing at the front
of the class, occasionally making mostly-legible markings on a chalkboard. Not
that there&rsquo;s anything wrong with that. I learned a lot back in college and I&rsquo;m
enjoying these lectures immensely. It just seems strange that so little has
changed in the university clasroom (at least this one from 2012) when so much
has changed in the world at large.</p>
<p>Actually, I find it reassuring that little has changed, at least in some
classes. There was a time when the ability to download the audio of any
university class was absolutely new. For me, that was around 2002 or so. I
listened to CS61A (UC Berkley&rsquo;s intro to CS course) and a few other similar
courses back then. The limitations of internet bandwidth and storage made
anything more than audio difficult back then. But now with those barriers
crushed, I was afraid that everything would be &ldquo;multimedia&rdquo;, and not amenable to
listening while I commute to work. So, it&rsquo;s reassuring to find that audio-only
dissemination of knowledge is still a thing.</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 30, 2018
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2018/05/30/autovacuum-not-running/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/programming/">programming </a><a class="label" href="https://vkurup.github.io/categories/postgresql/">postgresql </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2018/05/30/autovacuum-not-running/">Autovacuum not running</a>
  </h1>
</header>

        
          <p>OK, this is a debug session in progress, so don&rsquo;t expect a nice solution at the end. We&rsquo;re working
on a project that does analysis of some public voter registration data. The DB is hosted on Amazon
RDS and I&rsquo;ve been perplexed by how poorly queries are performing there, despite the tables only have
about 10 million rows. Simple queries are taking many minutes, which is orders of magnitude slower
than my laptop.</p>
<p><a href="http://mlavin.org/">Mark</a> suggested running &lsquo;VACUUM ANALYZE&rsquo;, which I didn&rsquo;t think would help
because my understanding was that the autovacuum process in PostgreSQL would be taking care of that
on a regular basis. These queries had been slow for days with no recent inserts or updates, so
certainly autovacuum should have caught up to them by now. But, I tried it anyway and lo and behold:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">db<span style="color:#719e07">=&gt;</span> <span style="color:#719e07">select</span> <span style="color:#719e07">count</span>(<span style="color:#719e07">*</span>) <span style="color:#719e07">from</span> voter_ncvoter;
  <span style="color:#719e07">count</span>
<span style="color:#586e75">----------
</span><span style="color:#586e75"></span> <span style="color:#2aa198">12336571</span>
(<span style="color:#2aa198">1</span> <span style="color:#719e07">row</span>)
Time: <span style="color:#2aa198">315777</span>.<span style="color:#2aa198">051</span> ms
db<span style="color:#719e07">=&gt;</span> <span style="color:#719e07">vacuum</span> <span style="color:#719e07">analyze</span>;
<span style="color:#719e07">VACUUM</span>
Time: <span style="color:#2aa198">11377035</span>.<span style="color:#2aa198">096</span> ms
db<span style="color:#719e07">=&gt;</span> <span style="color:#719e07">select</span> <span style="color:#719e07">count</span>(<span style="color:#719e07">*</span>) <span style="color:#719e07">from</span> voter_ncvoter;
  <span style="color:#719e07">count</span>
<span style="color:#586e75">----------
</span><span style="color:#586e75"></span> <span style="color:#2aa198">12336571</span>
(<span style="color:#2aa198">1</span> <span style="color:#719e07">row</span>)
Time: <span style="color:#2aa198">4300</span>.<span style="color:#2aa198">107</span> ms
</code></pre></div><p>Woah, that worked! Sure, it took 3+ hours to run ANALYZE, but wow. So, why isn&rsquo;t autovacuum
automatically doing this for us. (I mean it has the phrase &lsquo;auto&rsquo; in its name!!!)</p>
<p>I&rsquo;ve found this great article on
<a href="https://blog.2ndquadrant.com/autovacuum-tuning-basics/">autovacuum basics</a> which led me to do this query:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">db<span style="color:#719e07">=&gt;</span> <span style="color:#719e07">select</span> relname, n_live_tup, last_autoanalyze <span style="color:#719e07">from</span> pg_stat_all_tables <span style="color:#719e07">where</span> relname <span style="color:#719e07">like</span> <span style="color:#2aa198">&#39;voter_%&#39;</span>;
       relname       <span style="color:#719e07">|</span> n_live_tup <span style="color:#719e07">|</span>       last_autoanalyze
<span style="color:#586e75">---------------------+------------+------------+-------------------------------
</span><span style="color:#586e75"></span> voter_changetracker <span style="color:#719e07">|</span>  <span style="color:#2aa198">306689271</span> <span style="color:#719e07">|</span> <span style="color:#2aa198">2018</span><span style="color:#719e07">-</span><span style="color:#2aa198">05</span><span style="color:#719e07">-</span><span style="color:#2aa198">05</span> <span style="color:#2aa198">04</span>:<span style="color:#2aa198">59</span>:<span style="color:#2aa198">08</span>.<span style="color:#2aa198">503876</span><span style="color:#719e07">+</span><span style="color:#2aa198">00</span>
 voter_filetracker   <span style="color:#719e07">|</span>         <span style="color:#2aa198">41</span> <span style="color:#719e07">|</span> <span style="color:#2aa198">2018</span><span style="color:#719e07">-</span><span style="color:#2aa198">05</span><span style="color:#719e07">-</span><span style="color:#2aa198">13</span> <span style="color:#2aa198">02</span>:<span style="color:#2aa198">00</span>:<span style="color:#2aa198">47</span>.<span style="color:#2aa198">802633</span><span style="color:#719e07">+</span><span style="color:#2aa198">00</span>
 voter_ncvhis        <span style="color:#719e07">|</span>          <span style="color:#2aa198">0</span> <span style="color:#719e07">|</span>
 voter_ncvoter       <span style="color:#719e07">|</span>   <span style="color:#2aa198">12336616</span> <span style="color:#719e07">|</span> <span style="color:#2aa198">2018</span><span style="color:#719e07">-</span><span style="color:#2aa198">05</span><span style="color:#719e07">-</span><span style="color:#2aa198">06</span> <span style="color:#2aa198">13</span>:<span style="color:#2aa198">20</span>:<span style="color:#2aa198">30</span>.<span style="color:#2aa198">073426</span><span style="color:#719e07">+</span><span style="color:#2aa198">00</span>
 voter_badlinerange  <span style="color:#719e07">|</span>        <span style="color:#2aa198">404</span> <span style="color:#719e07">|</span> <span style="color:#2aa198">2018</span><span style="color:#719e07">-</span><span style="color:#2aa198">04</span><span style="color:#719e07">-</span><span style="color:#2aa198">10</span> <span style="color:#2aa198">05</span>:<span style="color:#2aa198">44</span>:<span style="color:#2aa198">39</span>.<span style="color:#2aa198">949193</span><span style="color:#719e07">+</span><span style="color:#2aa198">00</span>
(<span style="color:#2aa198">5</span> <span style="color:#719e07">rows</span>)
</code></pre></div><p>So those 2 large tables haven&rsquo;t been ANALYZEd in weeks, despite the fact that we import a 10 million
row CSV once every week. This is the end of my debugging road, for now. Hopefully, I&rsquo;ll figure out
what&rsquo;s going on.</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 29, 2018
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2018/05/29/renaissance-man/#disqus_thread">Comments</a>

    
    
      - 
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2018/05/29/renaissance-man/">Renaissance Man</a>
  </h1>
</header>

        
          <p>I love this
<a href="https://austinkleon.com/2018/05/29/wearing-many-hats/">post by Austin Kleon</a>.
As someone who has found very few things that I don&rsquo;t find intriguing in some
way, it is nice to know that there are others like me and that maybe there&rsquo;s
nothing wrong with that. I love being a doctor and I love being a programmer,
and I love honing both of those crafts.</p>
<p>He also links to a
<a href="https://www.nytimes.com/2012/01/22/education/edlife/renaissance-man.html">2012 New York Times article about a UCLA sophomore</a>
who spends 1 hour each day learning something new, mainly by taking online
courses from other universities or watching how-to videos on YouTube. We live in
a golden age, don&rsquo;t we? I mean, sure, people will look back at our period of
history and cringe quite a bit, but the idea that I can search just about any
term, and find information about it on Wikipedia, and probably find a course on
it by an actual college professor&hellip;. it&rsquo;s just mind boggling. I&rsquo;m lucky as it
is, but I often think about if I was a kid growing up in this era. I&rsquo;d be
overwhelmed, sure, but I would totally be taking online courses left and right.</p>
<p>Actually, even if I weren&rsquo;t a kid. I just googled the subject of that NYT
article and found his twitter account. His
<a href="https://twitter.com/_TheDancingFox_/status/686341754262429696">most recent post</a>
is from 2016 but links to a YouTube series from UCLA on the history of India. I
am TOTALLY watching that.</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 28, 2014
     - 1 minute read 
     - <a href="https://vkurup.github.io/blog/2014/07/28/using-dynamic-queries-in-a-cbv/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/django/">django </a><a class="label" href="https://vkurup.github.io/categories/programming/">programming </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2014/07/28/using-dynamic-queries-in-a-cbv/">Using dynamic queries in a CBV</a>
  </h1>
</header>

        
          <p>Let&rsquo;s play &lsquo;Spot the bug&rsquo;. We&rsquo;re building a simple system that shows photos. Each photo has a
<code>publish_date</code> and we should only show photos that have been published (i.e. their <code>publish_date</code> is
in the past).</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#719e07">class</span> <span style="color:#268bd2">PhotoManager</span>(models<span style="color:#719e07">.</span>Manager):
    <span style="color:#719e07">def</span> <span style="color:#268bd2">live</span>(<span style="color:#268bd2">self</span>, as_of<span style="color:#719e07">=</span><span style="color:#268bd2">None</span>):
        <span style="color:#719e07">if</span> as_of <span style="color:#719e07">is</span> <span style="color:#268bd2">None</span>:
            as_of <span style="color:#719e07">=</span> timezone<span style="color:#719e07">.</span>now()
        <span style="color:#719e07">return</span> <span style="color:#b58900">super</span>()<span style="color:#719e07">.</span>get_query_set()<span style="color:#719e07">.</span>filter(publish_date__lte<span style="color:#719e07">=</span>as_of)
</code></pre></div><p>And the view to show those photos:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#719e07">class</span> <span style="color:#268bd2">ShowPhotosView</span>(ListView):
    queryset <span style="color:#719e07">=</span> Hero<span style="color:#719e07">.</span>objects<span style="color:#719e07">.</span>live()
</code></pre></div><p>Can you spot the bug? I sure didn&rsquo;t&hellip; until the client complained that newly published photos never
showed up on the site. Restarting the server fixed the problem temporarily. The newly published
photos would show up, but then any photos published after the server restart again failed to
display.</p>
<p>The problem is that the <code>ShowPhotosView</code> class is instantiated when the server starts.
<code>ShowPhotosView.queryset</code> gets set to the value returned by <code>Hero.objects.live()</code>. That, in turn, is a
<code>QuerySet</code>, but it&rsquo;s a <code>QuerySet</code> with <code>as_of</code> set to <code>timezone.now()</code> <em>WHEN THE SERVER STARTS UP</em>. That
<code>as_of</code> value never gets updated, so newer photos never get captured in the query.</p>
<p>There&rsquo;s probably multiple ways to fix this, but an easy one is:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#719e07">class</span> <span style="color:#268bd2">ShowPhotosView</span>(ListView):
    <span style="color:#719e07">def</span> <span style="color:#268bd2">get_queryset</span>(<span style="color:#268bd2">self</span>):
        <span style="color:#719e07">return</span> Hero<span style="color:#719e07">.</span>objects<span style="color:#719e07">.</span>live()
</code></pre></div><p>Now, instead of the queryset being instantiated at server start-up, it&rsquo;s instantiated only when
<code>ShowPhotosView.get_queryset()</code> is called, which is when a request is made.</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 23, 2014
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2014/07/23/some-emacs-posts/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/programming/">programming </a><a class="label" href="https://vkurup.github.io/categories/emacs/">emacs </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2014/07/23/some-emacs-posts/">Some Emacs Posts</a>
  </h1>
</header>

        
          <p>A few cool Emacs posts have flown across my radar, so I&rsquo;m noting them here for that time in the
future when I have time to play with them.</p>
<ul>
<li><a href="http://endlessparentheses.com/manually-choose-a-fallback-font-for-unicode.html">Get unicode glyphs to show properly</a>. (╯°□°）╯︵ ┻━┻</li>
<li><a href="http://jr0cket.co.uk/2013/10/create-cool-slides--Org-mode-Revealjs.html/">Creating slides with org-mode and Reveal.js</a>.
Finally, a sane way to create a presentation :)</li>
<li><a href="https://github.com/syohex/emacs-anzu">Anzu</a>: Improves incremental search. Anzu shows the number
of matches found, and how many matches remain in the document.







<span class="caption-wrapper ">
  <img class="caption" src="https://github.com/syohex/emacs-anzu/raw/master/image/anzu.gif" title="Anzu in action" alt="Anzu in action">
  <span class="caption-text">Anzu in action</span>
</span>
</li>
<li><a href="http://from-the-cloud.com/en/emacs/2013/01/28_emacs-as-a-django-ide-with-python-djangoel.html">Emacs as a Django IDE</a>:
I tried this out briefly, but didn&rsquo;t end up sticking with it. It seemed too heavyweight.
I&rsquo;m probably just too used to my own workflow. I still think it&rsquo;s an interesting idea and would
like to try it again sometime.</li>
<li><a href="http://emacsredux.com/blog/2014/07/22/travel-back-and-forward-in-git-history/">Travel back and forth in git history</a>:
I&rsquo;m addicted to <a href="http://www.emacswiki.org/emacs/Magit">magit mode</a>, to the point that the
only git command I use manually nowadays is <code>git clone</code>. I do everything else in magit. Magit has
a <code>magit-blame-mode</code> which shows when each line in a file was changed and by whom.
<code>git-timemachine</code> seems to take that a step further by visiting each revision, one by
one. I can think of a few times where that would have been useful.</li>
<li><a href="https://github.com/omouse/emacs-sos">Search StackOverflow from inside Emacs</a>: Enough said.</li>
<li><a href="https://github.com/skeeto/elfeed">Emacs RSS client</a>: Still using NewsBlur, but totally miss
Google Reader. Maybe I need to try this one out.</li>
<li><a href="http://sachachua.com/blog/series/read-lisp-tweak-emacs/">Sacha Chua&rsquo;s minicourse on Elisp</a>: Have
to read through this someday!</li>
</ul>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 22, 2014
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2014/07/22/pygments-on-arch-linux/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/programming/">programming </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2014/07/22/pygments-on-arch-linux/">Pygments on Arch Linux</a>
  </h1>
</header>

        
          <p>I wrote my first blog post in a little while (ok, ok&hellip; 18 months) yesterday and when I tried to
generate the post, it failed. Silently failed, which is the worst kind of failure. I&rsquo;m still not
sure why it was silent, but I eventually was able to force it to show me an error message:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/.</span>rbenv<span style="color:#719e07">/</span>versions<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">-</span>p286<span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>ruby<span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">1</span><span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span>pygments<span style="color:#719e07">.</span>rb<span style="color:#719e07">-</span><span style="color:#2aa198">0</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">.</span><span style="color:#2aa198">4</span><span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>pygments<span style="color:#719e07">/</span>popen<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">354</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`rescue in get_header&#39;: Failed to get header. (MentosError)
</span><span style="color:#586e75">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/pygments.rb-0.3.4/lib/pygments/popen.rb:335:in `</span>get_header<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/pygments.rb-0.3.4/lib/pygments/popen.rb:232:in `block in mentos&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/.</span>rbenv<span style="color:#719e07">/</span>versions<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">-</span>p286<span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>ruby<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">1</span><span style="color:#719e07">/</span>timeout<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">68</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`timeout&#39;
</span><span style="color:#586e75">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/pygments.rb-0.3.4/lib/pygments/popen.rb:206:in `</span>mentos<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/pygments.rb-0.3.4/lib/pygments/popen.rb:189:in `highlight&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/</span>dev<span style="color:#719e07">/</span>kurup<span style="color:#719e07">.</span>org<span style="color:#719e07">/</span>plugins<span style="color:#719e07">/</span>pygments_code<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">24</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`pygments&#39;
</span><span style="color:#586e75">	from /home/vinod/dev/kurup.org/plugins/pygments_code.rb:14:in `</span>highlight<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/dev/kurup.org/plugins/backtick_code_block.rb:37:in `block in render_code_block&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/</span>dev<span style="color:#719e07">/</span>kurup<span style="color:#719e07">.</span>org<span style="color:#719e07">/</span>plugins<span style="color:#719e07">/</span>backtick_code_block<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">13</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`gsub&#39;
</span><span style="color:#586e75">	from /home/vinod/dev/kurup.org/plugins/backtick_code_block.rb:13:in `</span>render_code_block<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/dev/kurup.org/plugins/octopress_filters.rb:12:in `pre_filter&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/</span>dev<span style="color:#719e07">/</span>kurup<span style="color:#719e07">.</span>org<span style="color:#719e07">/</span>plugins<span style="color:#719e07">/</span>octopress_filters<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">28</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`pre_render&#39;
</span><span style="color:#586e75">	from /home/vinod/dev/kurup.org/plugins/post_filters.rb:112:in `</span>block <span style="color:#719e07">in</span> pre_render<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/dev/kurup.org/plugins/post_filters.rb:111:in `each&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/</span>dev<span style="color:#719e07">/</span>kurup<span style="color:#719e07">.</span>org<span style="color:#719e07">/</span>plugins<span style="color:#719e07">/</span>post_filters<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">111</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`pre_render&#39;
</span><span style="color:#586e75">	from /home/vinod/dev/kurup.org/plugins/post_filters.rb:166:in `</span>do_layout<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/jekyll-0.12.0/lib/jekyll/post.rb:195:in `render&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/.</span>rbenv<span style="color:#719e07">/</span>versions<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">-</span>p286<span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>ruby<span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">1</span><span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span>jekyll<span style="color:#719e07">-</span><span style="color:#2aa198">0</span><span style="color:#719e07">.</span><span style="color:#2aa198">12</span><span style="color:#719e07">.</span><span style="color:#2aa198">0</span><span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>jekyll<span style="color:#719e07">/</span>site<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">200</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`block in render&#39;
</span><span style="color:#586e75">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/jekyll-0.12.0/lib/jekyll/site.rb:199:in `</span>each<span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/jekyll-0.12.0/lib/jekyll/site.rb:199:in `render&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/.</span>rbenv<span style="color:#719e07">/</span>versions<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">-</span>p286<span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>ruby<span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">1</span><span style="color:#719e07">/</span>gems<span style="color:#719e07">/</span>jekyll<span style="color:#719e07">-</span><span style="color:#2aa198">0</span><span style="color:#719e07">.</span><span style="color:#2aa198">12</span><span style="color:#719e07">.</span><span style="color:#2aa198">0</span><span style="color:#719e07">/</span>lib<span style="color:#719e07">/</span>jekyll<span style="color:#719e07">/</span>site<span style="color:#719e07">.</span>rb:<span style="color:#2aa198">41</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`process&#39;
</span><span style="color:#586e75">	from /home/vinod/.rbenv/versions/1.9.3-p286/lib/ruby/gems/1.9.1/gems/jekyll-0.12.0/bin/jekyll:264:in `</span><span style="color:#719e07">&lt;</span>top (required)<span style="color:#719e07">&gt;</span><span style="color:#2aa198">&#39;
</span><span style="color:#2aa198">	from /home/vinod/.rbenv/versions/1.9.3-p286/bin/jekyll:23:in `load&#39;</span>
	from <span style="color:#dc322f">/home/</span>vinod<span style="color:#719e07">/.</span>rbenv<span style="color:#719e07">/</span>versions<span style="color:#719e07">/</span><span style="color:#2aa198">1</span><span style="color:#719e07">.</span><span style="color:#2aa198">9</span><span style="color:#719e07">.</span><span style="color:#2aa198">3</span><span style="color:#719e07">-</span>p286<span style="color:#719e07">/</span>bin<span style="color:#719e07">/</span><span style="color:#2aa198">jekyll</span>:<span style="color:#2aa198">23</span><span style="color:#2aa198">:in</span> <span style="color:#586e75">`&lt;main&gt;&#39;
</span></code></pre></div><p>Professor Google tells me that this happens when you try to
<a href="https://github.com/tmm1/pygments.rb/issues/45">run the pygments.rb library in a Python 3 environment</a>.
(pygments.rb is a Ruby wrapper around the Python Pygments library). The fix is to run the code in a
Python2 virtualenv. I guess the last time I updated my blog, Arch still had Python2 as the system
default. No, I don&rsquo;t want to check how long ago that was.</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkvirtualenv -p <span style="color:#586e75">`</span>which python2<span style="color:#586e75">`</span> my_blog
<span style="color:#719e07">(</span>my_blog<span style="color:#719e07">)</span>$ bundle <span style="color:#b58900">exec</span> rake generate
</code></pre></div><p>So now I&rsquo;m running a Ruby command in a Ruby environment (rbenv) inside a Python 2 virtualenv. Maybe
it&rsquo;s time to switch blog tools again&hellip;</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 21, 2014
     - 2 minute read 
     - <a href="https://vkurup.github.io/blog/2014/07/21/how-to-create-test-models-in-django/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/django/">django </a><a class="label" href="https://vkurup.github.io/categories/programming/">programming </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2014/07/21/how-to-create-test-models-in-django/">How to create test models in Django</a>
  </h1>
</header>

        
          <p>It&rsquo;s occasionally useful to be able to create a Django model class in your unit test suite. Let&rsquo;s
say you&rsquo;re building a library which creates an
<a href="https://docs.djangoproject.com/en/dev/topics/db/models/#abstract-base-classes">abstract model</a>
which your users will want to subclass. There&rsquo;s no need for your library to subclass it, but your
library should still test that you can create a subclass and test out its features. If you create
that model in your <code>models.py</code> file, then Django will think that it is a real part of your library and
load it whenever you (or your users) call <code>syncdb</code>. That&rsquo;s bad.</p>
<p>The <a href="https://code.djangoproject.com/ticket/7835#comment:24">solution</a> is to create it in a <code>tests.py</code>
file within your Django app. If it&rsquo;s not in <code>models.py</code>, Django won&rsquo;t load it during <code>syncdb</code>.</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#719e07">from</span> django.db <span style="color:#719e07">import</span> models
<span style="color:#719e07">from</span> django.test <span style="color:#719e07">import</span> TestCase

<span style="color:#719e07">from</span> .models <span style="color:#719e07">import</span> MyAbstractModel

<span style="color:#719e07">class</span> <span style="color:#268bd2">MyTestModel</span>(MyAbstractModel):
    name <span style="color:#719e07">=</span> models<span style="color:#719e07">.</span>CharField(max_length<span style="color:#719e07">=</span><span style="color:#2aa198">20</span>)

<span style="color:#719e07">class</span> <span style="color:#268bd2">AbstractTest</span>(TestCase):
    <span style="color:#719e07">def</span> <span style="color:#268bd2">test_my_test_model</span>(<span style="color:#268bd2">self</span>):
        <span style="color:#268bd2">self</span><span style="color:#719e07">.</span>assertTrue(MyTestModel<span style="color:#719e07">.</span>objects<span style="color:#719e07">.</span>create(name<span style="color:#719e07">=</span><span style="color:#2aa198">&#39;foo&#39;</span>))

</code></pre></div><p>A problem with this solution is that I rarely use a single <code>tests.py</code> file. Instead we use multiple
test files collected in a tests package. If you try to create a model in <code>tests/test_foo.py</code>, then
this approach fails because Django tries to create the model in an application named <code>tests</code>, but
there is no such app in INSTALLED_APPS. The solution is to set <code>app_label</code> to the name of your app
in an inner Meta class.</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#719e07">from</span> django.db <span style="color:#719e07">import</span> models
<span style="color:#719e07">from</span> django.test <span style="color:#719e07">import</span> TestCase

<span style="color:#719e07">from</span> ..models <span style="color:#719e07">import</span> MyAbstractModel

<span style="color:#719e07">class</span> <span style="color:#268bd2">MyTestModel</span>(MyAbstractModel):
    name <span style="color:#719e07">=</span> models<span style="color:#719e07">.</span>CharField(max_length<span style="color:#719e07">=</span><span style="color:#2aa198">20</span>)

    <span style="color:#719e07">class</span> <span style="color:#268bd2">Meta</span>:
        app_label <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;myappname&#39;</span>

<span style="color:#719e07">class</span> <span style="color:#268bd2">AbstractTest</span>(TestCase):
    <span style="color:#719e07">def</span> <span style="color:#268bd2">test_my_test_model</span>(<span style="color:#268bd2">self</span>):
        <span style="color:#268bd2">self</span><span style="color:#719e07">.</span>assertTrue(MyTestModel<span style="color:#719e07">.</span>objects<span style="color:#719e07">.</span>create(name<span style="color:#719e07">=</span><span style="color:#2aa198">&#39;foo&#39;</span>))

</code></pre></div><p>Oh, and I almost forgot&hellip; if you use <a href="http://south.readthedocs.org/en/latest/index.html">South</a>,
this might not work, unless you set <code>SOUTH_TESTS_MIGRATE</code> to <code>False</code> in your settings file.</p>
<p>Comments and corrections welcome!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jan 21, 2013
     - 6 minute read 
     - <a href="https://vkurup.github.io/blog/2013/01/21/peanut-allergy-a-personal-clinical-review/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://vkurup.github.io/categories/medicine/">medicine </a><a class="label" href="https://vkurup.github.io/categories/family/">family </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://vkurup.github.io/blog/2013/01/21/peanut-allergy-a-personal-clinical-review/">Peanut Allergy, a personal clinical review</a>
  </h1>
</header>

        
          <h2 id="a-vignette">A Vignette</h2>
<p>A 22-month-old previously healthy girl was brought to the emergency
room in respiratory distress. She had been well until the day of
presentation. Shortly after disembarking from an airline flight, she
developed cough with one episode of emesis. En route to the emergency
room, her breathing became labored and she developed hives. She was
diagnosed as having an allergic reaction and treated aggressively with
IV methylprednisolone, IV diphenhydramine, inhaled albuterol, and
oxygen. Mechanical ventilation was not required and her symptoms
improved rapidly. She was monitored in the emergency room for an
extended period and discharged in stable condition with a prescription
for diphenhydramine and methylprednisolone solutions. No specific
allergen was identified. She was seen by a pediatric allergist where
she was found to have a 6 mm response to peanut on skin prick testing,
and a peanut-specific IgE level of 52 kU/L. She was diagnosed as
having severe peanut allergy and avoidance was strongly recommended.</p>
<h2 id="discussion">Discussion</h2>
<p>Peanut allergy affects between 0.4 and 2.0% of children. Prevalence
has been increasing in recent years, but the reason for this increase
is not well understood. If reactions are identified immediately,
treatment is usually effective. Despite this, about 200 people die
each year from peanut reactions. Biphasic reactions, in which the
initial reaction subsides, but then recurs within a few hours, are
common. The second portion of a biphasic reaction is often less
treatable. Because of this risk, patients should be monitored for at
least 4 hours after a reaction. Patients who successfully treat their
own reactions with subcutaneous epinephrine should still seek medical
attention, again to monitor for biphasic reactions.</p>
<p>The gold standard for diagnosis is a double blind placebo controlled
food challenge (DBPCFC), but this is rarely done. A diagnosis can
usually be reliably made with clinical history, skin prick testing and
a peanut-specific IgE blood test (psIgE). A skin prick test involves
pricking the skin with a needle that is exposed to peanut extract and
measuring the allergic rash that develops. The psIgE blood test
measures the amount of antibody against peanut proteins. The higher it
is, the more allergic the patient is. A positive skin test or psIgE is
not sufficient for the diagnosis. Some type of reaction to peanuts is
required (either spontaneous, or via monitored food challenge).</p>
<p>Peanut allergy was previously felt to be permanent, but recent
evidence documents that 20% of children outgrow their allergy. More
than 60% of patients with an psIgE level of less than 5 passed a food
challenge. IgE levels correlate inversely with likelihood of
resolution, but this correlation is by no means perfect. Some patients
with undetectable psIgE levels will fail a challenge, while some
patients with very high psIgE levels will pass. One expert recommends
waiting until the age of 4 to consider a challenge, and to use a
cutoff psIgE level of less than 5 kU/L in most patients. Recurrence
of peanut allergy after resolution is rare, but is associated with the
lack of regular peanut intake after resolution of the allergy.</p>
<p>Controversy exists regarding risk factors for developing peanut
allergy. The AAP initially recommended that peanut not be introduced
early in a child&rsquo;s life, but rescinded that advice given the lack of
evidence behind it. This leaves a void for parents as there is no
recommendation to withold or introduce peanuts to toddlers. It is also
not clear if maternal peanut intake during pregnancy or breast feeding
increases the risk of developing peanut allergy in children. Studies
have been conflicting, so more definitive studies are underway. No
evidence-based advice can be given one way or the other to pregnant or
breastfeeding women, but at the minimum, there is no good evidence to
support avoiding peanuts.</p>
<p>The mainstay of treatment is education. Parents should be taught not
only how to identify peanuts in foods, but to identify situations
which are high-risk for exposure to peanuts. Avoidance of buffets,
ice-cream parlors, and bakeries is recommended because the risk of
cross-contamination in those setting is high. Religious reading of
food labels is important. Patients who are allergic to peanuts are
often also allergic to tree nuts, despite the dissimilarity in those
food types. Highly refined peanut oil is usually <em>NOT</em> a risk, but
cold-pressed peanut oil is not safe.</p>
<p>Most importantly, an epi-pen should be carried at all times and extra
doses should be left at daycare facilities and schools. All caregivers
should be comfortable giving an epi-pen injection and this should be
provided at the first sign of a systemic allergic reaction. Waiting to
give diphenhydramine or other therapies a &ldquo;chance to work&rdquo; can be
dangerous. Follow a <a href="http://www.foodallergy.org/files/media/food-allergy-action-plan/FAAP.pdf">Food Allergy Action Plan</a>
Over 80% of people who died from allergic reactions were not given
appropriate instructions on how to prevent future reactions. Most
mortality occurs because of late treatment. If you take one thing away
from this long post, keep an epi-pen handy and use it liberally.</p>
<p>Trials are underway investigating various oral-based immunotherapies,
but none are strongly recommended at this point. Injection
immunotherapy has not been found to be useful.</p>
<h2 id="personal-comment">Personal Comment</h2>
<p>So, the 22 month old above is Anika and she gave us the scare of our
life a couple years ago. The scary part now is that we never saw her
actually eat a peanut, so we&rsquo;re especially vigilant now. Fortunately,
Anika seems to understand the importance of avoiding peanuts. When she
was diagnosed, I did some research but never documented my notes. She
recently had another allergist appointment, so I reviewed those notes
and any new data. I figured I should write up my notes so I wouldn&rsquo;t
have to review this again from scratch every year. I didn&rsquo;t intend it
to come out so &lsquo;medical-speaky&rsquo;, but there it is. Anika and Kavi are
sitting next to me as I write this and they want to give some
information to you, too.</p>
<p>Kavi says:</p>
<blockquote>
<p>&ldquo;Always ask at the restaurant if things have peanuts and make foods
at home that do not have peanuts. Always check if there are peanuts in
every food you eat.&rdquo;</p>
</blockquote>
<p>Anika says:</p>
<blockquote>
<p>&ldquo;We might have to go to the doctor if we eat peanuts. If I eat
peanuts by accident, my teacher will give me a Happy-Pen (epi-pen).&rdquo;</p>
</blockquote>
<h2 id="references">References</h2>
<ol>
<li>Sampson HA. Peanut Allergy. N Engl J Med, 2002;346;1294-8.
<a href="http://www.nejm.org/doi/full/10.1056/NEJMcp012667">http://www.nejm.org/doi/full/10.1056/NEJMcp012667</a></li>
<li>Fleischer DM, et. al. The natural progression of peanut allergy:
Resolution and the possibility of recurrence. J Allergy Clin
Immunol, 2003;112;183-9.
<a href="http://www.jacionline.org/article/S0091-6749(03)01251-X/abstract">http://www.jacionline.org/article/S0091-6749(03)01251-X/abstract</a></li>
<li>O&rsquo;B Hourihane J. Peanut Allergy. Pediatr Clin N Am, 2011;58;445-57.
<a href="http://www.pediatric.theclinics.com/article/S0031-3955(11)00006-X/abstract">http://www.pediatric.theclinics.com/article/S0031-3955(11)00006-X/abstract</a></li>
<li>Rinaldi M, et. al. Peanut allergy diagnoses among children
residing in Olmstead County, Minnesota. J Allergy Clin Immunol, 2012:130:945-50.</li>
<li>Burks AW. Early peanut consumption: postpone or promote? J Allergy
Clin Immunol. 2009:123:417-423.
<a href="http://www.jacionline.org/article/S0091-6749(08)02436-6/fulltext">http://www.jacionline.org/article/S0091-6749(08)02436-6/fulltext</a></li>
</ol>
<h2 id="rss-url">RSS URL:</h2>
<p>Here&rsquo;s a
<a href="http://eutils.ncbi.nlm.nih.gov/entrez/eutils/erss.cgi?rss_guid=1t7jLQ--MCbUSbgzXRNqEMLPWIMWlZiqoEMdLvUTNUIFZ-UsA4">medline feed URL</a>
that I monitor which should show new studies or reviews related to
this topic.</p>

        
      </article>
      
      
      






<div class="pagination">

  
  
  
  
  <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
  

  
  
  <a href="/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  <a href="/page/3/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
  

  
  
  <a href="/page/30/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
  

</div>

  
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>

  

  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/vkurup/" title="https://github.com/vkurup/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/vkurup/" title="https://twitter.com/vkurup/"><i class="fa fa-twitter fa-3x"></i></a>
      
      <a target="_blank" href="https://keybase.io/vkurup/" title="https://keybase.io/vkurup/"><i class="fa fa-keybase fa-3x"></i></a> 
      
      
      <a target="_blank" href="https://stackoverflow.com/users/347942" title="https://stackoverflow.com/users/347942"><i class="fa fa-stack-overflow fa-3x"></i></a>
      
      
      
      
      

      
      
    </li>
  </ul>

  

  

  
  
  
  
  <section class="even">
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      
      
      
      
      
      <li class="post">
        <a href="/blog/2020/08/21/using-an-obi110-for-voip-service/">Using an OBi110 for VOIP service</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2020/08/17/django-forms-have-2-modes/">Django forms have 2 modes</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/12/11/we-have-always-lived-in-the-castle/">We have always lived in the castle</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/11/27/open-borders/">Open Borders</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/11/18/deep-survival-d%C3%A9j%C3%A0-vu/">Deep Survival Déjà Vu</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/11/17/ports-and-networks/">Ports and networks</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/11/17/hugo/">Hugo</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2019/04/08/avik-730/">Avik 7:30</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/12/20/triangle-race-series/">Triangle Race Series</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/12/02/my-nest-journey/">My Nest Journey</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/09/23/composting/">Composting</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/09/22/starting-a-garden/">Starting a garden</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/31/history-of-indian-civilization/">History of Indian Civilization</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/30/autovacuum-not-running/">Autovacuum not running</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/29/renaissance-man/">Renaissance Man</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/28/using-dynamic-queries-in-a-cbv/">Using dynamic queries in a CBV</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/23/some-emacs-posts/">Some Emacs Posts</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/22/pygments-on-arch-linux/">Pygments on Arch Linux</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/21/how-to-create-test-models-in-django/">How to create test models in Django</a>
      </li>
      
      
    </ul>
  </section>
  
  

  <section class="odd">
    <h1>My Pinboard</h1>
    <ul id="pinboard_linkroll">Fetching linkroll...</ul>
    <p><a href="http://pinboard.in/u:vkurup">My Pinboard Bookmarks &raquo;</a></p>
  </section>
  <script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; 
  var pinboard_user = "vkurup"; 
  var pinboard_count = 10; 
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/js/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
  </script>

</aside>
    
  </div>
</div>
    <footer role="contentinfo">
      <p>Copyright &copy; 2020 Vinod Kurup, MD - <a href="https://vkurup.github.io/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
      </p>
    </footer>

    
    
    

    
      <script>
        var _gaq=[['_setAccount','UA-79447-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
    
  </body>
</html>
   

